インフラ

・メモリ

P.41 ECC(Error Correcting Code)memory　誤り訂正符号と呼ばれるパリティ情報が追加されているメモリ。サーバーが100台を超えてからメモリのエラーを見かけるぐらいの低頻度ではあるが...。エラーを検知しだいアラートを出し、その間メモリ自身で補正し続ける。アラート中に手動でOSをシャットダウンさせ、正常なメモリに入れ替える。


ランク　メモリコントローラがメモリ上のDRAMからデータを入出力する単位のこと。１つのランクは64bit。1R,2R,4Rがある。デュアルランクなら128bit(eccなら16bit追加)。４Rはシングルランクのメモリを４枚指していることと同じだが、メモリコントローラによってはスロットが余ってても最大枚数までさせないことがある。

UDIMM(Unbuffered DIMM)PC用の通常メモリ
RDIMM(Registered DIMM)レジスタ付きDIMM。クロックやアドレスなどの制御信号をバッファ回路が取り込む。安定が必要なサーバ用によく使われる。バッファが間にあることで遅延が増加し、UDIMMより若干遅い。
LRDIMM　RDIMMの発展系。メモリコントローラとメモリチップの間全ての通信を、バッファ回路を介して行うDIMM。メモリバス全体の負荷を軽減することで、マザーボードに装着可能なモジュールを増やしたり、メモリのチップを増やすことで大容量かつ高速な転送速度が実現できる。

LV　低電圧メモリ

32GB 2Rx4 PC4-2133P
メモリ３２ギガ　ダブルランク４ビット　DDR4 最大データ転送速度約21.3GB/s

P.44メモリの差し方
・RDIMMとUDIMMは混在できない
・各プロセッサのメモリ構成は同一でなければならない。
・原則、ECCと非ECCメモリは混在できない。(一部ECC無効化ができるっぽい)

ストレージ
SATAハードディスク　１日８時間程度の稼働用途。安価。１対１
SASハードディスク　高信頼・高速。２４時間３６５日稼働用途。１対128~16万
FC(Fibre Channel)ハードディスク　高信頼・超高速。SANストレージなど、エンタープライズ仕様。１対126~1678万
[SAN](Strage area Network)ストレージを一元的に管理してサーバと共有する手法。既存のネットワーク上に増設するNASとは異なり、コレはSAN用のネットワークを構築する。

NVMe(Non-Volatile Memory Express)NANDフラッシュメモリが用いられた高速ストレージ。PCIEインタフェースに接続する。

P.50　RAID
ストレージのパフフォーマンス向上と障害体制の向上のために用いられる。
RAID５　ブロック単位でのパリティ情報記録。　ハードデスクの本数ー１個分保存できる
RAID10 ミラーリングかつストライピング。
環境にもよるが、大量のストレージ容量が必要の場合、RAID5かRAID10がよく使われる。HDDの本数の半分の量保存できる。
RAID6　ブロック単位でパリティを２つ使ってるためRAID5より障害耐性が高い。ただし、RAID構成が壊れ、データ復旧を依頼する場合、RAID５よりも復旧する可能性が低い。

P.55仮想化
ホストOS windowsやLinuxサーバー上でゲストOSを管理する方式。
ハイパーバイザ型　仮想化専用OSを用いる方式。
個人PCではホストOS型が主流。サーバーにはハイパーバイザ型が主流。

・仮想化の有名ソフト
有料
VMware vSphere VMware社
仮想ソフトのトップシェア。安定性と扱いやすさもトップクラス。
ただし、同一サーバー内に複数のCPUがあればその数だけライセンスを購入する必要がある。
Hyper-V　microsoft社
一度導入してしまえば追加費用なしに無制限にwindowsをゲストサーバーとして稼働できる
OSS
Xen　Linux Foundation
AWSのAmazon EC2が利用していることでも有名。Ciscoやgoogleもサポートしている。
KVM Red Hat社
イスラエルのQumranet社が開発し、Red Hatが買収した。Linuxの標準機能になっている。

選び方
windowsとLinuxが混在しているならVMware
Windows中心ならHyper-Vにした方がコスト面でも良い。
{XenでもKVCでも使い勝手のほうがいいものを選ぶといいんじゃないかなぁ}

・クラウド
