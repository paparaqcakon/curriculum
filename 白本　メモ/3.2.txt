○ルーティングの基本

・ルーティングテーブルの確認
hostname#show ip route
①ルートをどうやって登録したかを表すコードの一覧
②ルートをどうやって登録したかを表すコード　直接接続なら「C」表示。
③宛先のネットワークとそのサブネットマスク　192.168.1.0/24など。
④ネクストホップのIPアドレス　直接接続ならdirectly connectdと表示される。
⑤パケットの送出先となるインターフェース名　FastEthernet0／1など。
以上が確認できる。

接続ルート　ルータに直接接続されているインターフェースのこと。
※接続コードが「C」と表示されるためには、
・インタフェースにIPアドレスの設定をしていること
・インタフェースが有効（up/upになっている）
上記二点が必要。

Cisco IOS 15.0以降ではローカルルートも登録,表示される。

・ホストルート　サブネットマスク/32のルートのこと。最長一致検索により、ホストルートは最も優先されるルートとなる。

ローカルルート　ルーティングテーブルに登録されるホストルート。コード表示は「L」

[PPPネイバールート]　PPPのカプセル化を行なっているシリアルインターフェースで、対向のルータのIPアドレスをルーティングテーブルに登録されたホストルート。

[ループバックインターフェース]　自分自身に送信するためのNICの一つ。ルータではコレのループバックアドレスにホストルートを設定する。ルータを管理するために使われる。　{IPv4では慣習として127.0.0.1が使われる。}

・ルータ内での処理
①電気信号を受信する
②非カプセル化をしてイーサネットヘッダとFCSを取り出し、パケットにする。
③パケットのIPヘッダでの宛先IPアドレスと自身のルーティングテーブルを比較する。
④同一ネットワークがあればそのネクストホップに対して、パケットをカプセル化して電気信号に戻してから転送する。この時イーサネットヘッダ内の宛先MACアドレスはネクストホップで、送信元MACアドレスは自身となる。{MACアドレスはARPで調べている}

※宛先IPアドレスがルーティングテーブルにない場合、パケットは破棄される。送信元に対してICMPでエラー通知をする。

○ロンゲストマッチ(最長検索一致)　宛先IPアドレスのネットワーク部がルーティングテーブル内で複数該当した時、プレフィクス長が最も長いノードに転送するというルール。

デフォルトルート(ラストリゾートゲートウェイとも)　宛先がわからないパケットを破棄させないように転送させるルート。全ての宛先をルーティングテーブルに登録しなくても良くなるため、インターネットに向けて転送する際や、他のネットワークへの出口が一箇所しかないようなルータで設定される。

デフォルトゲートウェイ　別のネットワーク宛にデータを送信するときに、その出入り口となるアドレス。普通、直接接続されたルータとなる。