$.Hardware(以下H/W) Linuxにおいてはブートシーケンス、ファイルシステム、トラブルシューティングなどはこのH/Wの知識が絶対必要。

H/Wの抽象化・・・一度に注目すべき概念を減らすこと、その仕組み。H/Wの操作の煩雑さをOSが楽にしましょうというもの。

HDDには以下４つのマザーボード上のI/Fに接続可能
１.プライマリチャンネルのマスタ
２.プライマリチャンネルのスレーブ
３.セカンダリチャンネルのマスタ
４.セカンダリチャンネルのスレーブ

それぞれデバイスファイルに関連付けられており以下の対応になる
１．hda
２. hdb
３. hdc
４. hdd

HDDにはパーティションといういくつかの領域に分割できる
例えば、プライマリチャンネルのマスタの1番目のパーティションならhda1というデバイスファイルになる。

Linuxのインストールフローにおいて、HDDレイアウトの設定は自動化できるが、任意で設定するときにはHDDの知識やLinuxのファイルシステムの考え方の知識も必要

Linuxを動作させるマシンが古い場合はOSによる自動設定だけでは解決せず、自分の手でH/Wスイッチを物理的に操作しLinux上で設定を行う必要がある。
組み込み系では普通にこういったことが起こるらしい・・・。


$.ブートローダ　OSを起動するためのS/W。普段意識することはないが、これがないと現在のストレージデバイスから巨大なS/WであるOSが起動する仕組みは作れない

コンピュータが起動するフローにはH/WなアプローチからS/Wのあぷうろーちに切り替わるタイミングがある。具体的にはコンピュータの構成や役割によるが一例は以下
１．電源投入
２. BIOSによるデバイス初期化
３. ブートデバイスの決定
４. ブートストラップローダのロード
５．ブートローダの実行
６．OSの起動

１.で電源を投入するとフラッシュROMにあるBIOSが起動し、各種デバイスの初期化を行う。この過程をPOST(Power On Self Test)という。POSTで最初に初期化が行われるのがビデオカード。ビデオカードが済むとよく見るBIOSの初期化状況を表示する画面になる。
３.ではHDDやCD-ROMなどのドライブから起動するためのドライブを探す。何のデバイスが認識されるかはBIOSの設定次第。HDDの場合であれば、hdaのように最も優先度の高いデバイスをBIOSはブートドライブとして決定することになる。
４．ではブートドライブの先頭セクタのロードという段階に移る。HDDでは先頭セクタのことをMBR(Master Boot Record)といい、MBRは1台のHDDに１つしか存在しない。BIOSはこのMBRのメモリ上にロードして、MBR領域にあるプログラムに制御を移す。このMBR領域にあるプログラムをブートストラップローダという。
ブートストラップローダはパーティションテーブルから起動フラグのあるパーティションを探す。起動フラグのあるパーティションにブートストラップローダから制御が移行される。
ブートストラップから呼び出されるのが各基本パーティションにあるブートセクタになる。ブートセクタは各基本パーティションの先頭セクタのことをし、PBR(Partition Boot Record)とも呼ばれる。
PBRに制御が移行されると、そのPBRのプログラムコードが動作する。これがIPL(Initial Program Loader)と呼ばれるもので、OSを起動させるためのブートローダの残りの機能を呼び出す機能をもる。※この残りの機能はブートローダの2ndステージとも呼ばれる。
MBRやPBRは512バイトと非常に小さい領域。IPLはさらに小さい。このサイズにOS起動のブートローダのプログラムをすべて格納することはできない。そのためIPLはブートローダの一部のプログラムコードを持ち、ブートローダの残りの機能はPBRの後続セクタに置く形になっている。IPLから呼び出されたブートローダが後続のOSファイルを読み込んでいき、最終的にOSが起動していくことになる。

現在LinuxのブートローダはLILO（Linux Loader）とGRUB（Grand Unified Bootloader）が採用されている。これらはカーネルをロードすることが役割だが、その工程が異なる。

LILO・・・古くからLinuxで利用されてきたブートローダ。特徴としてカーネルの位置情報をLILO自身内部に情報として持ち、その情報からカーネルをロードするというもの。ファイルシステムを認識しないため、カーネルの位置をHDDの物理的な位置情報で判断する。この物理的な位置情報をブロックリストという。LILOはこのブロックリストを自身の内部に保持しており、これを参照してカーネルをロードする。このためLILOはブロックリスト参照型のブートローダといわれる。

GRUB・・・高性能ブートローダ。ファイルシステムを認識できる。つまりカーネルの位置をファイルパスで指定することができることを意味する。このようなタイプをファイル認識型という。

ブートローダの動作を経てカーネルがロードされるが、ここからがOS自身の起動シーケンスでありカーネルの制御下でOSとして機能するための様々な処理が行われる。


まとめ
OS起動するためにはカーネルのロードが必要！！
そのためにブートローダを実行する必要がある！！
そのためにBIOSはHDD上のMBRにあるブートストラップに制御を移し、これがブートセクタを呼び出し制御を移行し、そのプログラムであるIPLがブートローダを呼び出す！
そのために電源を入れよう。