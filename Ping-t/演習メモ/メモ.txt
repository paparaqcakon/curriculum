LLDP(Link Layer Discovery Protocol)　データリンク層で動作するプロトコル。L2接続が確立されていれば特権モードから[show lldp neighbors]で隣接したデバイスのシステム名、デバイスのタイプ、接続しているI/Fがわかる。　マルチベンダ対応。デフォルトの送信間隔は30秒。IEEE802.1AB標準化

CDP(Cisco Discovery Protocol) Cisco独自規格の隣接デバイスを確認できるプロトコル。デフォルトの送信間隔は60秒。ホールドタイムは送信先で情報をどれくらいの時間保持するかの設定。
Show cdp enrty <ホスト名>で隣接機器のうち、特定のデバイスだけを表示で切る。

Tracerouteで指定できる主なパラメータ
○TTL
○宛先IPアドレス
○送信元IPアドレス
○送信するプローブパケットの数
　＞プローブはパケットの一種ここにTTLが含まれる。

IPv6
ユニークローカルアドレスはLAN内で使えるプライベートアドレス
リンクローカルアドレスは同一ネットワーク内で使える(ルータまでの)プライベートアドレス

光ファイバー
SMF(Single Mode Fiber)単一の伝播モード。分散しにくいため長距離伝送に向く。
MMF(Multi Mode Fiber)複数の伝播モード。分散しやすいため長距離には向かない。
OS1,OS2 SMF　コア径 8~10μm
OM1 MMF コア径　62.5μm
OM2,OM3,OM4,OM5 MMF コア径　50μm


キャンパスネットワーク　複数の建物を人まとまりとした構内ネットワークのこと。それぞれのLANをすべて包含した全体のトポロジー。

３階層ネットワーク　役割を層で分けることで拡張性、管理性を向上できる。一つのビルに数千人いるような大規模な企業で推奨される。

○アクセス層　クライアントが接続する層。L2スイッチが機能する。ディストリビューション層と接続する。
　＞サーバファーム　クライアントではなく各種サーバを集約したスイッチを収容した層。アクセス層に位置するがクライアントが接続するものより高機能なL2スイッチを利用する。

○ディストリビューション層　各フロアのアクセススイッチを束ねて転送、ポリシーに基づくルーティング処理する。L3スイッチが機能する。必要に応じてコア層にトラフィックを転送する。

○コア層　L3スイッチを束ね、キャンパスネットワークのバックボーンとして機能する。コアスイッチはC6500などの信頼性の高い高機能なスイッチを選定する必要がある。大規模な企業LANに適用する階層。

２階層ネットワーク　企業LANが数百人規模で利用することがある３階層の省略した構造。コア層がないためコラプスト設計とも。Collapsed core(潰れたコア)から。


MDI PC ルータ
MDIーX　スイッチ　ハブ

デフォルトゲートウェイは外部ネットワーク宛のデータの行き先だが、受信するときでも機能する。

CIDR(Classless Inter-Domain Routing)要するにIPv4のプレフィクス表記のこと

スイッチの物理ポートにIPアドレス割り当てはできないが、VLANであれば[interface vlan1]からIPアドレス割り当てできる

エイジング　使用されていないエントリを削除していく機能
エージングタイム　動的に学習したMACアドレスエントリがMACアドレステーブルに留まる時間。{〇〇秒後にエントリを削除するという設定}

IPv6ヘッダ
①バージョン　4bit 0110
②トラフィッククラス　8bit パケット送信時のQoSを指定
③フローラベル　20bit　通信経路の品質確保、経路の優先選択のために使用。つまりQoS
④ペイロード長　16bit　拡張ヘッダとペイロードの長さ
⑤ネクストヘッダ　8bit　拡張ヘッダや上位プロトコルのタイプを表す。IPv4のプロトコルに該当する。
⑥ホップリミット　8bit　通過できるルータの数を制限する。IPv4のTTLに該当する。
⑦送信元IPアドレス　128bit
⑧宛先IPアドレス　128bit
⑨拡張ヘッダ　可変長　　　①〜⑧までで４０バイトある。オプションを付加できない代わりにコレで機能を拡張する。

BSSID　APのMACアドレスと同じになる。４８ビットで構成される。
ESSID ３２文字までの任意の英数字。普通ssidというとコレを指す。

DCA(Dynamic channel Assignment)動的チャネル割当　WLCの機能の一つ。同時に使用する電波がオーバーラップしないように複数あるチャネルから最適なものを選択してAPに割り当てる。電波強度、干渉、ノイズ、負荷、利用率を解析する。

WLCのコンソールポートもアウトオブバンド管理と考えることができる。

CDPを特定のI/Fだけ無効にする場合のコマンド
(Config-if)#no cdp enable

CDPそのものを無効にするコマンド
(config)#no cdp run

PortFast ポートにケーブルを刺してからの待機時間を省く機能。
BPDUガード　BPDUを受信するとerr-disableにして通信できない状態にする機能。PortFastを有効にしたポートに機能させることで意図せずにL2ループが起こらないようにする。

WLCはAPに接続できるクライアント数を制限することで負荷分散することができる。

IPv6のユニークローカルアドレスはFC00::/7と表記されるため、FDから始まることも可能。
ユニークローカルアドレスのグローバルIDは４０ビット　サブネットは16ビット　インタフェースIDは６４ビット　
サブネットプレフィクスもしくはサブネットIDはグローバルID、サブネット,FCorFDを含めた前半６４ビットのこと。

IPv6マルチキャストの範囲
FF01 インタフェースローカル　同一のノード内
FF02 リンクローカル　同一のリンク内
FF05 サイトローカル　同一のLAN内
FF08 組織ローカル　同一のWAN内
FF0e グローバル　インターネット全体

RSTPはSTPの改良のため、互換性がある。
STPはIEEE802.1Dで定義　RSTPはIEEE802.1wで定義される。

TCPではTCPヘッダ内にあるウインドウサイズを利用することで相手からのackを待たずにある程度まとめてデータの送信ができる。ackの待ち時間解消をスライディングウインドウという技術でおこなう。相手の処理能力に応じてウインドウサイズを大きくしたり小さくしたりすることをフロー制御という。

RSTPの有効化コマンド
Spanning-tree mode rapid-post

Show ip interface briefでのmethodではipアドレスの設定方法が記載される。no ip addressの設定をした場合でもmanualと表示される。初期から一度も設定してない時だけunsetと表示になる。

LLDPで得た情報の保持期間を変更するコマンド
(config)# lldp holdtime <秒>　〇〇秒後までにパケットが届かなかったらlldpで得た情報を破棄する。


IPv6 エニーキャスト　同じユニキャストアドレスを複数の機器に割り当て、最も近い機器と通信するアドレス。

STP
uplinkfast 直接的な障害の収束を早める
backbonefast 間接的な障害の収束を早める

APのSSHはバージョン１、２両方利用できるがデフォルトでは２になる。

IPv6 リンクローカルアドレスに対してping疎通確認をする場合、自身の出力I/Fを指定する必要がある。
グローバルユニキャストアドレスやユニキャストローカルアドレスの場合は必要が無い。
hostname#ping ipv6 fe80~~~~.  このipv6の記載は省略可能

IPv４　ローカルアドレス
10.0.0.0〜10.255.255.255
172.16.0.0〜172.31.255.255
192.168.0.0〜192.168.255.255

Show versionで確認できること
現在稼働しているIOSのバージョン
システムが稼働してからの時間
システムを起動した方法
現在ルータで稼働しているIOSファイル
DRAMの容量
Flashメモリの容量
コンフィギュレーションレジスタ値

イラストではスイッチとハブが異なる
ハブ　←→　　手前にポートのような図
スイッチ　　　　　← → 　
　　　　　　　　←　→　　手前はフラット

VLAN導入の際必ず行うのは
VLAN作成　VLANの名前設定　VLANのポート割り当て
よく設定するのが
VTPを機能させる　VTPドメインにVLANを追加する

隣接したルータ同士であれば、IPアドレスの設定をしていなくてもCDPやLLDPなどで隣接デバイスを認識できる。

Lldpは初期設定では無効化されている　cdpは初期設定で有効化されている
Lldm transmit lldm receiveは初期設定で有効


MTU(Maximum Transmission Unit)　一度で転送可能な最大のパケットサイズ。

無線LANの規格は2.4GHzと5GHzという周波数が同じ規格であれば互換性があるとしている。

CDPとLLDPはTLVという形式で自身のホスト名,接続ポート,IPアドレス,機器の種類,は伝えるが、トポロジチェンジはLLDPのみが対応している。

Cdp timer 10　の場合、送信間隔の設定のこと
Cdp holdtimer 10の場合、ホールドタイムの設定のこと

APゼロタッチ導入　集中管理型のAPで、WLCを使わずにクラウド管理システムに事前に設定された情報を自動で適用できる技術。Cisco Merakiという無線LANソリューションがコレに当たる。

PCでルーティングテーブルを表示するためのコマンド
Route print
Netstat -r

光ファイバー　イーサネット規格
1000BASE-LX　SMF　5km　MMF　550m
1000BASE-LX/HX　SMF　10km　MMF　550m
1000BASE-SX　MMF　550m
1000BASE-ZX　SMF　70km
10GBASE-LR　SMF　10km. LRはロングリーチのこと
10GBASE-SR　MMF　300m

PD(Powered Device)受電機器
PoEポートの動作モード
　auto　・PDの検出が可能。
　　　　 ・PDの検出後にPoEポートに電力が割り当てられるのえ、電力の余裕がない場合はPDへ給電されない

　static・PDの検出が有効
　　　　　・PDの検出前からPoEポートへ電力が割り当てられるので、該当PoEポートに接続されたPDへの給電が保証される

　never・PDの検出が無効
　　　　・PDへ給電されない

FLP(Fast Link Pulse)　オートネゴシエーションで相手の通信モードを認識するために発信するパルス信号。コレによって通信速度や全二重か半二重かを決定する。

オーバーラップ　異なるAPやクライアント間で同じ周波数で被ってしまうこと。

VTP トランクポートでVLANタグを付加するが、アクセスポートでは付加されない。

TCPコネクションは仮想通信路とも呼ばれる。

ROMMON romモニターのこと。IOSを読み込まないで起動するモード。IOSの読み込みに失敗した時やIOSが消えてしまった時などに使用する。ルータの電源を入れてから60秒以内にBreak信号を送る、コンフィギュレーションレジスタが「0x2100」になっている、IOSが破損して読み込めない、という場合にこのモードに移行する。
IOSはFlashメモリに保存されている。　Startup-configはNVRAMに保存されている。

SFP(Small Form-factor Pluggable)　SFPポートにSFPモジュールを追加することで、光ファイバーやUTPケーブルなど用途に応じたI/Fを追加できる。ホットスワップに対応している。

RFC 1918　IPv4プライベートアドレスが規定されている

Ethernetフレームは、プリアンブル、SFD、宛先MACアドレス、送信元MACアドレス、タイプ、データ、FCSの順

スパイン＆リーフ　２階層の構造で、クライアントはリーフ層に接続される。リーフ同士,スパイン同士の接続はしないが、リーフ層とスパイン層の間はフルメッシュで構成される。帯域幅を増強したい場合はスパイン層にスイッチを追加する。リーフ層の機器もL3プロトコルに対応する。３階層の構造と比べて障害の影響が少なく、機器やケーブルも少ない。

Show flash　ではFlashメモリに格納されているIOSイメージ名,IOSのバージョン,Flashメモリの空き容量が確認できる


